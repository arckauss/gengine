language: cpp
before_install:
  - sudo bash -c "echo 'deb http://lgp203.free.fr/ubuntu quantal universe' >> /etc/apt/sources.list.d/lgp203.free.fr.source.list"
  - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
  - sudo apt-get update -qq
  - if [ "$CXX" = "g++" ]; then sudo apt-get install -qq g++-4.8; fi
  - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
  - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 90
install:
  - sudo apt-get install --force-yes make premake4 liblua5.2-dev
  - sudo cp /usr/include/lua5.2/** /usr/include/
  - sudo ln -s /usr/lib/x86_64-linux-gnu/liblua5.2.a /usr/lib/liblua.a
compiler:
  - gcc
script:
    - pushd deps/linux/lib64
    - ./get-libs
    - popd
    - cd build/
    - premake4 gmake
    - make config=debug64
